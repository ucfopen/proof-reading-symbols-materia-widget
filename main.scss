// Sass variables and mixins:
// ----------------------------------
$sans-font-family: 'Museo Sans', 'Arial', 'Helvetica', sans;
$serif-font-family: 'Andada', 'Georgia', serif;
$survey-font-family: 'Arial', 'Helvetica', 'Arial', sans;

$purple: #a2568c;
$gray: gray;
$translucent: rgba(0, 0, 0, .5);
$dark-gray: #5b5b5b;
$light-gray: #cccccc;
$red: #FF3737;

@mixin gradient($top, $bottom)
{
	background: $top; /* Old browsers */
	background: -moz-linear-gradient(top,  $top 0%, $bottom 100%); /* FF3.6+ */
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,$top), color-stop(100%,$bottom)); /* Chrome,Safari4+ */
	background: -webkit-linear-gradient(top,  $top 0%,$bottom 100%); /* Chrome10+,Safari5.1+ */
	background: -o-linear-gradient(top,  $top 0%,$bottom 100%); /* Opera 11.10+ */
	background: -ms-linear-gradient(top,  $top 0%,$bottom 100%); /* IE10+ */
	background: linear-gradient(to bottom,  $top 0%,$bottom 100%); /* W3C */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='$top', endColorstr='$bottom',GradientType=0 ); /* IE6-9 */
}

@mixin transition($statement)
{
	-webkit-transition: $statement;
	-moz-transition:    $statement;
	-ms-transition:     $statement;
	-o-transition:      $statement;
	transition:         $statement;
}

@mixin transform($statements)
{
	-webkit-transform: $statements;
	-moz-transform:    $statements;
	-ms-transform:     $statements;
	-o-transform:      $statements;
	transform:         $statements;
}

@mixin no-select()
{
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	-khtml-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
}
// ----------------------------------

// ngCloak rule - prevents FOUC by hiding the page until everything has loaded
[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
	display: none !important;
}

*
{
	box-sizing: border-box;
}

html
{
	width: 100%;
	height: 100%;
}

body
{
	position: relative;

	width: 100%;
	height: 100%;
	margin: 0 auto;

	@include gradient(#FFFFFF, $light-gray);
}

hr
{
	border: none;
	border-top: 1px solid $light-gray;
}

figcaption
{
	font-size: 10pt;
	color: $dark-gray;
}

input[type="text"],
textarea
{
	font-family: $serif-font-family;
	font-size: 14pt;
}

popup-google-chart
{
	display: inline-block;
	min-width: 300px;
	min-height: 200px;
}

.loading svg
{
	margin: 200px auto 0 auto;
	display: block;
}

.main-header
{
	position: absolute;
	left: 20px;
	top: 20px;
	right: 20px;

	height: 34px;

	font-family: $sans-font-family;
	text-align: center;
	color: white;
	font-size: 16pt;
	font-weight: bold;

	background: $dark-gray;

	.total-progress
	{
		position: absolute;
		bottom: -6px;

		width: 760px;
		height: 5px;

		background: #d6d6d6;

		.current-progress
		{
			position: absolute;
			left: 0;
			top: 0;

			width: 0%;
			height: 5px;

			background: $purple;

			@include transition(width .5s ease);
		}
	}

	.progress
	{
		position: absolute;
		left: 0;
		top: 0;

		height: 34px;
		width: 90px;

		font-size: 12pt;

		border-right: 1px solid white;

		span
		{
			margin-top: 8px;
			display: block;
		}
	}

	.pause
	{
		position: absolute;
		right: 0;
		top: 0;
		z-index: 2;

		width: 34px;
		height: 34px;

		border-left: 1px solid white;
		background: $dark-gray;
		cursor: pointer;

		@include transition(background .25s ease);

		&:hover
		{
			background: #8a8a8a;

			@include transition(background .25s ease);
		}

		&.disabled
		{
			background: $light-gray;
			cursor: default;

			&:hover
			{
				background: $light-gray;
			}

			line
			{
				stroke: #979797;
				stroke-width: 2;
			}
		}

		rect
		{
			fill: white;
		}
	}
}

.page
{
	position: absolute;
	top: 80px;
	bottom: 100px;
	left: 20px;
	right: 20px;

	font-family: $serif-font-family;
	font-size: 16pt;

	> div
	{
		position: absolute;
		top: 0;
		bottom: 0;
		left: 0;
		right: 0;
	}

	header
	{
		position: absolute;
		left: 0;
		top: -60px;
		right: 0;

		height: 34px;
		padding-top: 17px;

		font-family: $sans-font-family;
		text-align: center;
		color: white;
		font-size: 16pt;
		font-weight: bold;
		line-height: 0;
	}

	.content
	{
		height: 100%;
		padding: 20px;
		overflow: auto;

		background: white;
		border: 1px solid rgba(0, 0, 0, .2);
		box-shadow: 0 2px 2px rgba(0, 0, 0, .3);

		&.chromeless
		{
			padding: 0;

			background: none;
			border: none;
			box-shadow: none;
		}

		h1, h2, h3
		{
			font-family: $sans-font-family;
		}

		h2 { font-size: 22pt; }
		h3 { font-size: 20pt; }

		h1, h2, h3, h4, h5, h6, p
		{
			&:first-child
			{
				margin-top: 0;
			}
		}

		> ul li
		{
			line-height: 1.6em;
		}

		.center
		{
			display: block;
			margin-left: auto;
			margin-right: auto;

			text-align: center;
		}

		.time-estimate
		{
			font-size: 20pt;
			font-weight: bold;
		}
	}

	footer,
	.supplementary // The first version of the popup widgets used <div class="supplementary"> instead of <footer>
	{
		position: absolute;
		left: -20px;
		bottom: -100px;
		right: -20px;

		height: 80px;
		padding: 15px 20px;

		text-align: center;
		font-size: 12pt;

		background: white;
		border-top: 1px solid rgba(0, 0, 0, .2);

		@include no-select();

		nav
		{
			margin-top: 5px;

			ul
			{
				position: relative;

				padding: 0;
				margin: 0;

				li
				{
					position: absolute;
					top: 0;

					list-style-type: none;

					&.back-button
					{
						left: 0;

						.button
						{
							padding-left: 42px;

							&:before
							{
								content: "\2190\00A0\00A0";

								position: absolute;
								left: 14px;
								top: 9px;

								@include transition(left .25s ease);
							}
						}

						&:hover
						{
							.button:before
							{
								left: 10px;

								@include transition(left .25s ease);
							}

							.button:disabled:before,
							.button.disabled:before
							{
								left: 14px;
							}
						}
					}

					&.next-button
					{
						right: 0;

						.button
						{
							padding-right: 42px;

							&:after
							{
								content: "\00A0\00A0\2192";

								position: absolute;
								right: 14px;
								top: 9px;

								@include transition(right .25s ease);
							}
						}

						&:hover
						{
							.button:after
							{
								right: 10px;

								@include transition(right .25s ease);
							}

							.button:disabled:after,
							.button.disabled:after,
							{
								right: 14px;
							}
						}
					}

					&.important
					{
						left: 50%;
						right: inherit;

						margin-left: -100px;

						.button
						{
							background: #5ba2cd;
							width: 200px;
							text-align: center;

							&:hover
							{
								background: #3880ac;
							}
						}
					}
				}
			}
		}
	}
}

.button
{
	position: relative;

	margin: 0;
	padding: 10px 26px;
	cursor: pointer;
	display: inline-block;

	text-decoration: none;
	color: white;
	font-family: $sans-font-family;
	font-size: 14pt;

	border: none;
	border-radius: 4px;
	background: $purple;

	@include no-select();

	@include transition(background .25s ease);

	&:hover
	{
		background: #9b357d;

		@include transition(background .25s ease);
	}

	&:disabled,
	&.disabled
	{
		cursor: default;

		background: $light-gray !important;
		color: $gray !important;
	}
}

.survey-container
{
	margin-bottom: 1em;

	float: left;
	clear: both;

	> span
	{
		width: 200px;
		margin-top: 8px;

		font-size: 11pt;
	}

	.left
	{
		float: left;
	}

	.right
	{
		float: right;

		text-align: right;
	}
}

.survey
{
	width: 100%;

	font-size: 14pt;

	table-layout: fixed;
	border-collapse: collapse;
	border-spacing: 0;

	label
	{
		display: block;
		width: 100%;

		cursor: pointer;

		&:hover
		{
			background: rgba(0, 0, 0, .1);
		}
	}

	input
	{
		cursor: pointer;
	}

	thead tr
	{
		font-family: $survey-font-family;
		font-size: 11pt;

		th
		{
			padding-bottom: 7px;
		}
	}

	th, td
	{
		padding: 0;
		width: 100%;

		text-align: center;

		border-right: 1px dotted $light-gray;

		&:first-child
		{
			border-left: 1px dotted $light-gray;
		}
	}

	tbody tr
	{
		padding: 3px 0;
		border-top: 1px solid #efefef;

		&:last-child
		{
			border-bottom: 1px solid #efefef;
		}
	}

	&.questions
	{
		th:first-child,
		td:first-child
		{
			width: 230px;
			padding-right: 1em;

			text-align: right;
			font-size: 12pt;

			border-left: none;
		}

		label
		{
			height: 35px;
		}
	}

	&.rating
	{
		th
		{
			border-left: none;
			border-right: none;
		}

		td input
		{
			display: block;
			margin: 0 auto;
		}

		label
		{
			padding: .5em;
		}
	}
}

.key
{
	display: inline-block;
	width: 50px;
	height: 50px;
	margin-left: .2em;
	margin-right: .2em;
	padding-top: 25px;
	vertical-align: middle;

	line-height: 0;
	font-family: Museo Sans; //@TODO
	font-size: 22pt;
	color: $gray;
	text-align: center;

	border-radius: 4px;
	border: 1px solid $gray;
	background: white;

	&.small
	{
		width: 30px;
		height: 30px;

		padding-top: 15px;

		font-size: 12pt;
	}
}

.dialog-container
{
	z-index: 100;
	position: absolute;
	left: 0;
	right: 0;
	top: 0;
	bottom: 0;

	background: $translucent;

	@include no-select();

	&.paused
	{
		background: $gray;
	}

	.dialog
	{
		width: 300px;
		margin: 160px auto 0 auto;

		font-family: $serif-font-family;
		text-align: center;

		background: white;
		border: 1px solid rgba(0, 0, 0, .2);
		box-shadow: 0 2px 2px rgba(0, 0, 0, .3);

		p
		{
			margin-bottom: 2em;
		}

		.button
		{
			margin-bottom: 1em;
		}
	}
}

.error
{
	background: $red;
	color: white;
}


/* used in Feedback Surveys */

#feedback {
	padding: 0px;
	overflow: hidden;
}

.feedback_table {
	table-layout: fixed;
	width: 100%;
    border: 1px solid #000;
    border-collapse: collapse;
    margin: 0;
    padding: 0;
    height: 420px;

    label
	{
		display: block;
		width: 100%;
		padding-top: 1em;
		padding-bottom: 1em;

		cursor: pointer;

		&:hover
		{
			background: rgba(255, 255, 0, .2);
			margin-top: -1px;
			margin-bottom: -1px;
			border: 1px solid;
			border-color: rgba(255, 255, 0, 1);
			border-radius: 15px;
			@include transition(background .3s ease);
		}
	}

	td {
		text-align: center;
		height: 20px;
	}

	th {
		font-weight: normal;
		font-size: 0.62em;
	}

	thead {
		
		tr {
			height: 2em;
		}

		th {
			width: 100%;
		}
	}

	th:nth-child(1){
		padding-left: 1em;
		font-weight: bold;
		width: 200px;
	}

	tbody th {
		text-align: left;
	}

	tbody tr:nth-child(odd){
		background-color: rgba(255, 255, 0, .1);
		border: 1px solid black;
	}
}

.full {
	height: 100%;
}